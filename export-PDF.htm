<!doctype html>
<html manifest="cache.manifest">

<head>
	<meta charset="utf-8">

	<!-- CSS Media Queries -->
    <link rel="stylesheet" href="./css/basic.css" />
    <link rel="stylesheet" media="only screen and (min-device-width: 768px)" href="./css/ipad.css" />
    <link rel="stylesheet" media="only screen and (max-device-width: 767px)" href="./css/phone.css" />
	<link rel="stylesheet" href="./css/menu_popups.css">
	<link rel="stylesheet" href="./css/buttons.css">
	<title>TeacherTab</title>
</head>

<body>
<div id="header">
    <h1>Klasse als PDF exportieren</h1>
    <div class="uebersicht show" id="itemExport">
        <div class="styleWrap indexBox">
            <div>Dr√ºcke auf den Button, um die Datei auf dem SyncServer zu erstellen. Wenn sie feritg ist, startet dein Download automatisch.</div>
			<form name="pdf" action="#" method="post">
				<input type="hidden" name="klasse" value="">
				<input type="hidden" name="userID" value="">
				<div><input id="pdf_download" class="button OK hide" type="submit" onclick="this.form.submit(); this.disabled=true; this.value='Bitte warten'" value="PDF erstellen"></div>
		   </form>
        </div>
    </div>
</div>
<script src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="js/sync.js"></script>
<script>
	var param_array = window.location.search.substr(1).split("&");
	var tmparr = [];
	var params = {};
	for ( var i = 0; i < param_array.length; i++) {
		tmparr = param_array[i].split("=");
		params[decodeURIComponent(tmparr[0])] = decodeURIComponent(tmparr[1]);
	}
	pdf.klasse.value = params.klasse;
	pdf.userID.value = params.userID;
	pdf.setAttribute("action", params.serverIP+"/export_pdf.py")
	document.getElementById("pdf_download").classList.remove("hide")
</script>
</html>